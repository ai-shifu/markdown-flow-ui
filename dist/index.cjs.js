"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const _=require("react"),_t=require("@microsoft/fetch-event-source"),vt=require("react-markdown"),We=require("unist-util-visit"),Et=require("remark-gfm"),xt=require("rehype-highlight"),wt=require("remark-breaks");function kt(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const t in e)if(t!=="default"){const r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:()=>e[t]})}}return n.default=e,Object.freeze(n)}const V=kt(_);var me={exports:{}},ce={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Te;function St(){if(Te)return ce;Te=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function t(r,o,s){var a=null;if(s!==void 0&&(a=""+s),o.key!==void 0&&(a=""+o.key),"key"in o){s={};for(var l in o)l!=="key"&&(s[l]=o[l])}else s=o;return o=s.ref,{$$typeof:e,type:r,key:a,ref:o!==void 0?o:null,props:s}}return ce.Fragment=n,ce.jsx=t,ce.jsxs=t,ce}var le={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ne;function Tt(){return Ne||(Ne=1,process.env.NODE_ENV!=="production"&&function(){function e(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===B?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case h:return"Fragment";case A:return"Profiler";case k:return"StrictMode";case w:return"Suspense";case N:return"SuspenseList";case x:return"Activity"}if(typeof d=="object")switch(typeof d.tag=="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),d.$$typeof){case y:return"Portal";case S:return(d.displayName||"Context")+".Provider";case C:return(d._context.displayName||"Context")+".Consumer";case R:var T=d.render;return d=d.displayName,d||(d=T.displayName||T.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case P:return T=d.displayName||null,T!==null?T:e(d.type)||"Memo";case m:T=d._payload,d=d._init;try{return e(d(T))}catch{}}return null}function n(d){return""+d}function t(d){try{n(d);var T=!1}catch{T=!0}if(T){T=console;var L=T.error,I=typeof Symbol=="function"&&Symbol.toStringTag&&d[Symbol.toStringTag]||d.constructor.name||"Object";return L.call(T,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",I),n(d)}}function r(d){if(d===h)return"<>";if(typeof d=="object"&&d!==null&&d.$$typeof===m)return"<...>";try{var T=e(d);return T?"<"+T+">":"<...>"}catch{return"<...>"}}function o(){var d=$.A;return d===null?null:d.getOwner()}function s(){return Error("react-stack-top-frame")}function a(d){if(W.call(d,"key")){var T=Object.getOwnPropertyDescriptor(d,"key").get;if(T&&T.isReactWarning)return!1}return d.key!==void 0}function l(d,T){function L(){Z||(Z=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",T))}L.isReactWarning=!0,Object.defineProperty(d,"key",{get:L,configurable:!0})}function i(){var d=e(this.type);return j[d]||(j[d]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),d=this.props.ref,d!==void 0?d:null}function c(d,T,L,I,D,H,ne,z){return L=H.ref,d={$$typeof:f,type:d,key:T,props:H,_owner:D},(L!==void 0?L:null)!==null?Object.defineProperty(d,"ref",{enumerable:!1,get:i}):Object.defineProperty(d,"ref",{enumerable:!1,value:null}),d._store={},Object.defineProperty(d._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(d,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(d,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:ne}),Object.defineProperty(d,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:z}),Object.freeze&&(Object.freeze(d.props),Object.freeze(d)),d}function u(d,T,L,I,D,H,ne,z){var F=T.children;if(F!==void 0)if(I)if(X(F)){for(I=0;I<F.length;I++)p(F[I]);Object.freeze&&Object.freeze(F)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else p(F);if(W.call(T,"key")){F=e(d);var q=Object.keys(T).filter(function(ie){return ie!=="key"});I=0<q.length?"{key: someKey, "+q.join(": ..., ")+": ...}":"{key: someKey}",U[F+I]||(q=0<q.length?"{"+q.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,I,F,q,F),U[F+I]=!0)}if(F=null,L!==void 0&&(t(L),F=""+L),a(T)&&(t(T.key),F=""+T.key),"key"in T){L={};for(var Q in T)Q!=="key"&&(L[Q]=T[Q])}else L=T;return F&&l(L,typeof d=="function"?d.displayName||d.name||"Unknown":d),c(d,F,H,D,o(),L,ne,z)}function p(d){typeof d=="object"&&d!==null&&d.$$typeof===f&&d._store&&(d._store.validated=1)}var g=_,f=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),S=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),B=Symbol.for("react.client.reference"),$=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=Object.prototype.hasOwnProperty,X=Array.isArray,Y=console.createTask?console.createTask:function(){return null};g={"react-stack-bottom-frame":function(d){return d()}};var Z,j={},K=g["react-stack-bottom-frame"].bind(g,s)(),b=Y(r(s)),U={};le.Fragment=h,le.jsx=function(d,T,L,I,D){var H=1e4>$.recentlyCreatedOwnerStacks++;return u(d,T,L,!1,I,D,H?Error("react-stack-top-frame"):K,H?Y(r(d)):b)},le.jsxs=function(d,T,L,I,D){var H=1e4>$.recentlyCreatedOwnerStacks++;return u(d,T,L,!0,I,D,H?Error("react-stack-top-frame"):K,H?Y(r(d)):b)}}()),le}var Ae;function Nt(){return Ae||(Ae=1,process.env.NODE_ENV==="production"?me.exports=St():me.exports=Tt()),me.exports}var M=Nt();const At="[DONE]",Rt=(e,n={})=>{const[t,r]=_.useState(null),[o,s]=_.useState(!1),[a,l]=_.useState(null),[i,c]=_.useState(null),u=_.useRef(null),p=_.useRef(!1),g=_.useRef(!0),f=_.useRef(!1),y=_.useRef(-1),h=_.useRef(""),{autoConnect:k=!0}=n,A=_.useCallback(async()=>{if(!(p.current||!g.current||f.current))try{s(!0),l(null),f.current=!1,p.current=!0;const S=++y.current;c(S),h.current="";const R=new AbortController;u.current=R,await _t.fetchEventSource(e,{...n,method:"POST",headers:{Accept:"text/event-stream","Content-Type":"application/json","Cache-Control":"no-cache",...Object.entries(n.headers||{}).reduce((w,[N,P])=>(w[N]=String(P),w),{})},signal:R.signal,openWhenHidden:!0,onopen:async w=>{g.current&&!f.current&&(s(!1),l(null))},onmessage:w=>{if(g.current&&!f.current){if(w.data.toUpperCase()===At){n.onFinish?.(h.current,S),C();return}try{let N=w.data;h.current+=N,r(h.current)}catch{}}},onclose:()=>{g.current&&!f.current&&s(!1)},onerror:w=>{g.current&&!f.current&&(l(w),s(!1))}})}catch(S){g.current&&!f.current&&(l(S),s(!1))}},[e,JSON.stringify(n)]),C=_.useCallback(()=>{f.current=!0,u.current&&(u.current.abort(),u.current=null),p.current=!1,g.current&&s(!1)},[]);return _.useEffect(()=>{if(g.current=!0,f.current=!1,p.current=!1,k){const S=setTimeout(()=>{p.current||A()},100);return()=>{g.current=!1,f.current=!0,clearTimeout(S),C()}}else return()=>{g.current=!1,f.current=!0,C()}},[A,C,k]),_.useEffect(()=>{if(p.current){C(),p.current=!1,f.current=!1,r(null),l(null),s(!0),h.current="";const S=setTimeout(()=>{p.current||A()},100);return()=>{clearTimeout(S)}}},[e,JSON.stringify(n),A,C]),{data:t,isLoading:o,error:a,sseIndex:i,connect:A,close:C}},Ct=e=>{const[n,t]=_.useState(null),[r,o]=_.useState(!0),[s,a]=_.useState(null);return _.useEffect(()=>{e&&(async()=>{try{o(!0);const i=await fetch("https://play.dev.pillowai.cn/api/v1/playground/markdownflow_info",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({content:e}),cache:"no-store"});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const c=await i.json();c.code===200?t(c.data):a(c.message||"请求失败")}catch(i){a(i.message||"网络错误")}finally{o(!1)}})()},[e]),{data:n,loading:r,error:s}},Ot=/\?\[([^\]]+)\]/;function It(){return e=>{We.visit(e,"text",(n,t,r)=>{const o=n.value,s=Ot.exec(o);if(!s||t===null||r===null)return;const a=s.index,l=a+s[0].length,i=[{type:"text",value:o.substring(0,a)},{type:"element",data:{hName:"custom-button",hProperties:{buttonText:s[1]}}},{type:"text",value:o.substring(l)}];r.children.splice(t,1,...i)})}}function Re(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function Mt(...e){return n=>{let t=!1;const r=e.map(o=>{const s=Re(o,n);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():Re(e[o],null)}}}}function Lt(e){const n=Bt(e),t=V.forwardRef((r,o)=>{const{children:s,...a}=r,l=V.Children.toArray(s),i=l.find(zt);if(i){const c=i.props.children,u=l.map(p=>p===i?V.Children.count(c)>1?V.Children.only(null):V.isValidElement(c)?c.props.children:null:p);return M.jsx(n,{...a,ref:o,children:V.isValidElement(c)?V.cloneElement(c,void 0,u):null})}return M.jsx(n,{...a,ref:o,children:s})});return t.displayName=`${e}.Slot`,t}var Pt=Lt("Slot");function Bt(e){const n=V.forwardRef((t,r)=>{const{children:o,...s}=t;if(V.isValidElement(o)){const a=Ut(o),l=$t(s,o.props);return o.type!==V.Fragment&&(l.ref=r?Mt(r,a):a),V.cloneElement(o,l)}return V.Children.count(o)>1?V.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var Dt=Symbol("radix.slottable");function zt(e){return V.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Dt}function $t(e,n){const t={...n};for(const r in n){const o=e[r],s=n[r];/^on[A-Z]/.test(r)?o&&s?t[r]=(...l)=>{const i=s(...l);return o(...l),i}:o&&(t[r]=o):r==="style"?t[r]={...o,...s}:r==="className"&&(t[r]=[o,s].filter(Boolean).join(" "))}return{...e,...t}}function Ut(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning;return t?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,t=n&&"isReactWarning"in n&&n.isReactWarning,t?e.props.ref:e.props.ref||e.ref)}function Ke(e){var n,t,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(t=Ke(e[n]))&&(r&&(r+=" "),r+=t)}else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function Ve(){for(var e,n,t=0,r="",o=arguments.length;t<o;t++)(e=arguments[t])&&(n=Ke(e))&&(r&&(r+=" "),r+=n);return r}const Ce=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Oe=Ve,Ft=(e,n)=>t=>{var r;if(n?.variants==null)return Oe(e,t?.class,t?.className);const{variants:o,defaultVariants:s}=n,a=Object.keys(o).map(c=>{const u=t?.[c],p=s?.[c];if(u===null)return null;const g=Ce(u)||Ce(p);return o[c][g]}),l=t&&Object.entries(t).reduce((c,u)=>{let[p,g]=u;return g===void 0||(c[p]=g),c},{}),i=n==null||(r=n.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:p,className:g,...f}=u;return Object.entries(f).every(y=>{let[h,k]=y;return Array.isArray(k)?k.includes({...s,...l}[h]):{...s,...l}[h]===k})?[...c,p,g]:c},[]);return Oe(e,a,i,t?.class,t?.className)},Se="-",Gt=e=>{const n=Ht(e),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const l=a.split(Se);return l[0]===""&&l.length!==1&&l.shift(),Ze(l,n)||jt(a)},getConflictingClassGroupIds:(a,l)=>{const i=t[a]||[];return l&&r[a]?[...i,...r[a]]:i}}},Ze=(e,n)=>{if(e.length===0)return n.classGroupId;const t=e[0],r=n.nextPart.get(t),o=r?Ze(e.slice(1),r):void 0;if(o)return o;if(n.validators.length===0)return;const s=e.join(Se);return n.validators.find(({validator:a})=>a(s))?.classGroupId},Ie=/^\[(.+)\]$/,jt=e=>{if(Ie.test(e)){const n=Ie.exec(e)[1],t=n?.substring(0,n.indexOf(":"));if(t)return"arbitrary.."+t}},Ht=e=>{const{theme:n,classGroups:t}=e,r={nextPart:new Map,validators:[]};for(const o in t)xe(t[o],r,o,n);return r},xe=(e,n,t,r)=>{e.forEach(o=>{if(typeof o=="string"){const s=o===""?n:Me(n,o);s.classGroupId=t;return}if(typeof o=="function"){if(Wt(o)){xe(o(r),n,t,r);return}n.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([s,a])=>{xe(a,Me(n,s),t,r)})})},Me=(e,n)=>{let t=e;return n.split(Se).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},Wt=e=>e.isThemeGetter,Kt=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,t=new Map,r=new Map;const o=(s,a)=>{t.set(s,a),n++,n>e&&(n=0,r=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return o(s,a),a},set(s,a){t.has(s)?t.set(s,a):o(s,a)}}},we="!",ke=":",Vt=ke.length,Zt=e=>{const{prefix:n,experimentalParseClassName:t}=e;let r=o=>{const s=[];let a=0,l=0,i=0,c;for(let y=0;y<o.length;y++){let h=o[y];if(a===0&&l===0){if(h===ke){s.push(o.slice(i,y)),i=y+Vt;continue}if(h==="/"){c=y;continue}}h==="["?a++:h==="]"?a--:h==="("?l++:h===")"&&l--}const u=s.length===0?o:o.substring(i),p=Yt(u),g=p!==u,f=c&&c>i?c-i:void 0;return{modifiers:s,hasImportantModifier:g,baseClassName:p,maybePostfixModifierPosition:f}};if(n){const o=n+ke,s=r;r=a=>a.startsWith(o)?s(a.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=s=>t({className:s,parseClassName:o})}return r},Yt=e=>e.endsWith(we)?e.substring(0,e.length-1):e.startsWith(we)?e.substring(1):e,qt=e=>{const n=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let s=[];return r.forEach(a=>{a[0]==="["||n[a]?(o.push(...s.sort(),a),s=[]):s.push(a)}),o.push(...s.sort()),o}},Jt=e=>({cache:Kt(e.cacheSize),parseClassName:Zt(e),sortModifiers:qt(e),...Gt(e)}),Xt=/\s+/,Qt=(e,n)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:s}=n,a=[],l=e.trim().split(Xt);let i="";for(let c=l.length-1;c>=0;c-=1){const u=l[c],{isExternal:p,modifiers:g,hasImportantModifier:f,baseClassName:y,maybePostfixModifierPosition:h}=t(u);if(p){i=u+(i.length>0?" "+i:i);continue}let k=!!h,A=r(k?y.substring(0,h):y);if(!A){if(!k){i=u+(i.length>0?" "+i:i);continue}if(A=r(y),!A){i=u+(i.length>0?" "+i:i);continue}k=!1}const C=s(g).join(":"),S=f?C+we:C,R=S+A;if(a.includes(R))continue;a.push(R);const w=o(A,k);for(let N=0;N<w.length;++N){const P=w[N];a.push(S+P)}i=u+(i.length>0?" "+i:i)}return i};function en(){let e=0,n,t,r="";for(;e<arguments.length;)(n=arguments[e++])&&(t=Ye(n))&&(r&&(r+=" "),r+=t);return r}const Ye=e=>{if(typeof e=="string")return e;let n,t="";for(let r=0;r<e.length;r++)e[r]&&(n=Ye(e[r]))&&(t&&(t+=" "),t+=n);return t};function tn(e,...n){let t,r,o,s=a;function a(i){const c=n.reduce((u,p)=>p(u),e());return t=Jt(c),r=t.cache.get,o=t.cache.set,s=l,l(i)}function l(i){const c=r(i);if(c)return c;const u=Qt(i,t);return o(i,u),u}return function(){return s(en.apply(null,arguments))}}const G=e=>{const n=t=>t[e]||[];return n.isThemeGetter=!0,n},qe=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Je=/^\((?:(\w[\w-]*):)?(.+)\)$/i,nn=/^\d+\/\d+$/,rn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,on=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,an=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,re=e=>nn.test(e),O=e=>!!e&&!Number.isNaN(Number(e)),ee=e=>!!e&&Number.isInteger(Number(e)),ve=e=>e.endsWith("%")&&O(e.slice(0,-1)),J=e=>rn.test(e),ln=()=>!0,dn=e=>on.test(e)&&!sn.test(e),Xe=()=>!1,un=e=>an.test(e),mn=e=>cn.test(e),pn=e=>!v(e)&&!E(e),gn=e=>se(e,tt,Xe),v=e=>qe.test(e),te=e=>se(e,nt,dn),Ee=e=>se(e,_n,O),Le=e=>se(e,Qe,Xe),bn=e=>se(e,et,mn),pe=e=>se(e,rt,un),E=e=>Je.test(e),de=e=>ae(e,nt),fn=e=>ae(e,vn),Pe=e=>ae(e,Qe),hn=e=>ae(e,tt),yn=e=>ae(e,et),ge=e=>ae(e,rt,!0),se=(e,n,t)=>{const r=qe.exec(e);return r?r[1]?n(r[1]):t(r[2]):!1},ae=(e,n,t=!1)=>{const r=Je.exec(e);return r?r[1]?n(r[1]):t:!1},Qe=e=>e==="position"||e==="percentage",et=e=>e==="image"||e==="url",tt=e=>e==="length"||e==="size"||e==="bg-size",nt=e=>e==="length",_n=e=>e==="number",vn=e=>e==="family-name",rt=e=>e==="shadow",En=()=>{const e=G("color"),n=G("font"),t=G("text"),r=G("font-weight"),o=G("tracking"),s=G("leading"),a=G("breakpoint"),l=G("container"),i=G("spacing"),c=G("radius"),u=G("shadow"),p=G("inset-shadow"),g=G("text-shadow"),f=G("drop-shadow"),y=G("blur"),h=G("perspective"),k=G("aspect"),A=G("ease"),C=G("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],R=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],w=()=>[...R(),E,v],N=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],m=()=>[E,v,i],x=()=>[re,"full","auto",...m()],B=()=>[ee,"none","subgrid",E,v],$=()=>["auto",{span:["full",ee,E,v]},ee,E,v],W=()=>[ee,"auto",E,v],X=()=>["auto","min","max","fr",E,v],Y=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Z=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...m()],K=()=>[re,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...m()],b=()=>[e,E,v],U=()=>[...R(),Pe,Le,{position:[E,v]}],d=()=>["no-repeat",{repeat:["","x","y","space","round"]}],T=()=>["auto","cover","contain",hn,gn,{size:[E,v]}],L=()=>[ve,de,te],I=()=>["","none","full",c,E,v],D=()=>["",O,de,te],H=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],z=()=>[O,ve,Pe,Le],F=()=>["","none",y,E,v],q=()=>["none",O,E,v],Q=()=>["none",O,E,v],ie=()=>[O,E,v],ue=()=>[re,"full",...m()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[J],breakpoint:[J],color:[ln],container:[J],"drop-shadow":[J],ease:["in","out","in-out"],font:[pn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[J],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[J],shadow:[J],spacing:["px",O],text:[J],"text-shadow":[J],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",re,v,E,k]}],container:["container"],columns:[{columns:[O,v,E,l]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:w()}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[ee,"auto",E,v]}],basis:[{basis:[re,"full","auto",l,...m()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[O,re,"auto","initial","none",v]}],grow:[{grow:["",O,E,v]}],shrink:[{shrink:["",O,E,v]}],order:[{order:[ee,"first","last","none",E,v]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:m()}],"gap-x":[{"gap-x":m()}],"gap-y":[{"gap-y":m()}],"justify-content":[{justify:[...Y(),"normal"]}],"justify-items":[{"justify-items":[...Z(),"normal"]}],"justify-self":[{"justify-self":["auto",...Z()]}],"align-content":[{content:["normal",...Y()]}],"align-items":[{items:[...Z(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Z(),{baseline:["","last"]}]}],"place-content":[{"place-content":Y()}],"place-items":[{"place-items":[...Z(),"baseline"]}],"place-self":[{"place-self":["auto",...Z()]}],p:[{p:m()}],px:[{px:m()}],py:[{py:m()}],ps:[{ps:m()}],pe:[{pe:m()}],pt:[{pt:m()}],pr:[{pr:m()}],pb:[{pb:m()}],pl:[{pl:m()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":m()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":m()}],"space-y-reverse":["space-y-reverse"],size:[{size:K()}],w:[{w:[l,"screen",...K()]}],"min-w":[{"min-w":[l,"screen","none",...K()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...K()]}],h:[{h:["screen","lh",...K()]}],"min-h":[{"min-h":["screen","lh","none",...K()]}],"max-h":[{"max-h":["screen","lh",...K()]}],"font-size":[{text:["base",t,de,te]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,E,Ee]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ve,v]}],"font-family":[{font:[fn,v,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,E,v]}],"line-clamp":[{"line-clamp":[O,"none",E,Ee]}],leading:[{leading:[s,...m()]}],"list-image":[{"list-image":["none",E,v]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",E,v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:b()}],"text-color":[{text:b()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:[O,"from-font","auto",E,te]}],"text-decoration-color":[{decoration:b()}],"underline-offset":[{"underline-offset":[O,"auto",E,v]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:m()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",E,v]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",E,v]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:U()}],"bg-repeat":[{bg:d()}],"bg-size":[{bg:T()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ee,E,v],radial:["",E,v],conic:[ee,E,v]},yn,bn]}],"bg-color":[{bg:b()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:b()}],"gradient-via":[{via:b()}],"gradient-to":[{to:b()}],rounded:[{rounded:I()}],"rounded-s":[{"rounded-s":I()}],"rounded-e":[{"rounded-e":I()}],"rounded-t":[{"rounded-t":I()}],"rounded-r":[{"rounded-r":I()}],"rounded-b":[{"rounded-b":I()}],"rounded-l":[{"rounded-l":I()}],"rounded-ss":[{"rounded-ss":I()}],"rounded-se":[{"rounded-se":I()}],"rounded-ee":[{"rounded-ee":I()}],"rounded-es":[{"rounded-es":I()}],"rounded-tl":[{"rounded-tl":I()}],"rounded-tr":[{"rounded-tr":I()}],"rounded-br":[{"rounded-br":I()}],"rounded-bl":[{"rounded-bl":I()}],"border-w":[{border:D()}],"border-w-x":[{"border-x":D()}],"border-w-y":[{"border-y":D()}],"border-w-s":[{"border-s":D()}],"border-w-e":[{"border-e":D()}],"border-w-t":[{"border-t":D()}],"border-w-r":[{"border-r":D()}],"border-w-b":[{"border-b":D()}],"border-w-l":[{"border-l":D()}],"divide-x":[{"divide-x":D()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":D()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...H(),"hidden","none"]}],"divide-style":[{divide:[...H(),"hidden","none"]}],"border-color":[{border:b()}],"border-color-x":[{"border-x":b()}],"border-color-y":[{"border-y":b()}],"border-color-s":[{"border-s":b()}],"border-color-e":[{"border-e":b()}],"border-color-t":[{"border-t":b()}],"border-color-r":[{"border-r":b()}],"border-color-b":[{"border-b":b()}],"border-color-l":[{"border-l":b()}],"divide-color":[{divide:b()}],"outline-style":[{outline:[...H(),"none","hidden"]}],"outline-offset":[{"outline-offset":[O,E,v]}],"outline-w":[{outline:["",O,de,te]}],"outline-color":[{outline:b()}],shadow:[{shadow:["","none",u,ge,pe]}],"shadow-color":[{shadow:b()}],"inset-shadow":[{"inset-shadow":["none",p,ge,pe]}],"inset-shadow-color":[{"inset-shadow":b()}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:b()}],"ring-offset-w":[{"ring-offset":[O,te]}],"ring-offset-color":[{"ring-offset":b()}],"inset-ring-w":[{"inset-ring":D()}],"inset-ring-color":[{"inset-ring":b()}],"text-shadow":[{"text-shadow":["none",g,ge,pe]}],"text-shadow-color":[{"text-shadow":b()}],opacity:[{opacity:[O,E,v]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[O]}],"mask-image-linear-from-pos":[{"mask-linear-from":z()}],"mask-image-linear-to-pos":[{"mask-linear-to":z()}],"mask-image-linear-from-color":[{"mask-linear-from":b()}],"mask-image-linear-to-color":[{"mask-linear-to":b()}],"mask-image-t-from-pos":[{"mask-t-from":z()}],"mask-image-t-to-pos":[{"mask-t-to":z()}],"mask-image-t-from-color":[{"mask-t-from":b()}],"mask-image-t-to-color":[{"mask-t-to":b()}],"mask-image-r-from-pos":[{"mask-r-from":z()}],"mask-image-r-to-pos":[{"mask-r-to":z()}],"mask-image-r-from-color":[{"mask-r-from":b()}],"mask-image-r-to-color":[{"mask-r-to":b()}],"mask-image-b-from-pos":[{"mask-b-from":z()}],"mask-image-b-to-pos":[{"mask-b-to":z()}],"mask-image-b-from-color":[{"mask-b-from":b()}],"mask-image-b-to-color":[{"mask-b-to":b()}],"mask-image-l-from-pos":[{"mask-l-from":z()}],"mask-image-l-to-pos":[{"mask-l-to":z()}],"mask-image-l-from-color":[{"mask-l-from":b()}],"mask-image-l-to-color":[{"mask-l-to":b()}],"mask-image-x-from-pos":[{"mask-x-from":z()}],"mask-image-x-to-pos":[{"mask-x-to":z()}],"mask-image-x-from-color":[{"mask-x-from":b()}],"mask-image-x-to-color":[{"mask-x-to":b()}],"mask-image-y-from-pos":[{"mask-y-from":z()}],"mask-image-y-to-pos":[{"mask-y-to":z()}],"mask-image-y-from-color":[{"mask-y-from":b()}],"mask-image-y-to-color":[{"mask-y-to":b()}],"mask-image-radial":[{"mask-radial":[E,v]}],"mask-image-radial-from-pos":[{"mask-radial-from":z()}],"mask-image-radial-to-pos":[{"mask-radial-to":z()}],"mask-image-radial-from-color":[{"mask-radial-from":b()}],"mask-image-radial-to-color":[{"mask-radial-to":b()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":R()}],"mask-image-conic-pos":[{"mask-conic":[O]}],"mask-image-conic-from-pos":[{"mask-conic-from":z()}],"mask-image-conic-to-pos":[{"mask-conic-to":z()}],"mask-image-conic-from-color":[{"mask-conic-from":b()}],"mask-image-conic-to-color":[{"mask-conic-to":b()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:U()}],"mask-repeat":[{mask:d()}],"mask-size":[{mask:T()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",E,v]}],filter:[{filter:["","none",E,v]}],blur:[{blur:F()}],brightness:[{brightness:[O,E,v]}],contrast:[{contrast:[O,E,v]}],"drop-shadow":[{"drop-shadow":["","none",f,ge,pe]}],"drop-shadow-color":[{"drop-shadow":b()}],grayscale:[{grayscale:["",O,E,v]}],"hue-rotate":[{"hue-rotate":[O,E,v]}],invert:[{invert:["",O,E,v]}],saturate:[{saturate:[O,E,v]}],sepia:[{sepia:["",O,E,v]}],"backdrop-filter":[{"backdrop-filter":["","none",E,v]}],"backdrop-blur":[{"backdrop-blur":F()}],"backdrop-brightness":[{"backdrop-brightness":[O,E,v]}],"backdrop-contrast":[{"backdrop-contrast":[O,E,v]}],"backdrop-grayscale":[{"backdrop-grayscale":["",O,E,v]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[O,E,v]}],"backdrop-invert":[{"backdrop-invert":["",O,E,v]}],"backdrop-opacity":[{"backdrop-opacity":[O,E,v]}],"backdrop-saturate":[{"backdrop-saturate":[O,E,v]}],"backdrop-sepia":[{"backdrop-sepia":["",O,E,v]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":m()}],"border-spacing-x":[{"border-spacing-x":m()}],"border-spacing-y":[{"border-spacing-y":m()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",E,v]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[O,"initial",E,v]}],ease:[{ease:["linear","initial",A,E,v]}],delay:[{delay:[O,E,v]}],animate:[{animate:["none",C,E,v]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,E,v]}],"perspective-origin":[{"perspective-origin":w()}],rotate:[{rotate:q()}],"rotate-x":[{"rotate-x":q()}],"rotate-y":[{"rotate-y":q()}],"rotate-z":[{"rotate-z":q()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:ie()}],"skew-x":[{"skew-x":ie()}],"skew-y":[{"skew-y":ie()}],transform:[{transform:[E,v,"","none","gpu","cpu"]}],"transform-origin":[{origin:w()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ue()}],"translate-x":[{"translate-x":ue()}],"translate-y":[{"translate-y":ue()}],"translate-z":[{"translate-z":ue()}],"translate-none":["translate-none"],accent:[{accent:b()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:b()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",E,v]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":m()}],"scroll-mx":[{"scroll-mx":m()}],"scroll-my":[{"scroll-my":m()}],"scroll-ms":[{"scroll-ms":m()}],"scroll-me":[{"scroll-me":m()}],"scroll-mt":[{"scroll-mt":m()}],"scroll-mr":[{"scroll-mr":m()}],"scroll-mb":[{"scroll-mb":m()}],"scroll-ml":[{"scroll-ml":m()}],"scroll-p":[{"scroll-p":m()}],"scroll-px":[{"scroll-px":m()}],"scroll-py":[{"scroll-py":m()}],"scroll-ps":[{"scroll-ps":m()}],"scroll-pe":[{"scroll-pe":m()}],"scroll-pt":[{"scroll-pt":m()}],"scroll-pr":[{"scroll-pr":m()}],"scroll-pb":[{"scroll-pb":m()}],"scroll-pl":[{"scroll-pl":m()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",E,v]}],fill:[{fill:["none",...b()]}],"stroke-w":[{stroke:[O,de,te,Ee]}],stroke:[{stroke:["none",...b()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},xn=tn(En);function ot(...e){return xn(Ve(e))}const wn=Ft("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function ye({className:e,variant:n,size:t,asChild:r=!1,...o}){const s=r?Pt:"button";return M.jsx(s,{"data-slot":"button",className:ot(wn({variant:n,size:t,className:e})),...o})}const kn=({node:e,readonly:n,defaultButtonText:t,onSend:r})=>{const{buttonText:o,...s}=e.properties||{},a=()=>{r?.({buttonText:o||""})};return M.jsx(ye,{variant:"outline",disabled:n,size:"sm",onClick:a,className:`cursor-pointer h-6 text-sm hover:bg-gray-200 ${t===o?"bg-black text-white":""}`,...s,children:o})},he="[|｜]",Be=new RegExp(he,"g"),Sn=[{regex:new RegExp(`\\?\\[\\%\\{\\{\\s*(\\w+)\\s*\\}\\}\\s*([^\\]\\|｜]+(?:\\s*${he}\\s*[^\\]\\|｜]+)*)\\s*${he}\\s*\\.\\.\\.\\s*([^\\]]+)\\]`),type:0},{regex:/\?\[\%\{\{\s*(\w+)\s*\}\}\s*\.\.\.\s*([^\]]+)\]/,type:3},{regex:new RegExp(`\\?\\[\\%\\{\\{\\s*(\\w+)\\s*\\}\\}\\s*([^\\]\\|｜]+(?:\\s*${he}\\s*[^\\]\\|｜]+)+)\\s*\\]`),type:1},{regex:/\?\[\%\{\{\s*(\w+)\s*\}\}\s*([^\|\]｜]+)\s*\]/,type:2}];function Tn(e,n){const t=e[1].trim();switch(n){case 0:return{variableName:t,buttonTexts:e[2].split(Be).map(o=>o.trim()).filter(o=>o.length>0),placeholder:e[3].trim()};case 1:return{variableName:t,buttonTexts:e[2].split(Be).map(o=>o.trim()).filter(o=>o.length>0),placeholder:void 0};case 2:const r=e[2].trim();return{variableName:t,buttonTexts:r?[r]:[],placeholder:void 0};case 3:return{variableName:t,buttonTexts:[],placeholder:e[2].trim()};default:throw new Error(`Unsupported format type: ${n}`)}}function Nn(e){for(const n of Sn){n.regex.lastIndex=0;const t=n.regex.exec(e);if(t)return{match:t,rule:n}}return null}function An(e,n,t,r){return[{type:"text",value:e.substring(0,n)},{type:"element",data:{hName:"custom-variable",hProperties:r}},{type:"text",value:e.substring(t)}]}function Rn(){return e=>{We.visit(e,"text",(n,t,r)=>{if(t===null||r===null)return;const o=n.value,s=Nn(o);if(!s)return;const{match:a,rule:l}=s,i=a.index,c=i+a[0].length;try{const u=Tn(a,l.type),p=An(o,i,c,u);r.children.splice(t,1,...p)}catch(u){console.warn("Failed to parse custom variable syntax:",u);return}})}}function Cn({className:e,type:n,...t}){return M.jsx("input",{type:n,"data-slot":"input",className:ot("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),In=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,t,r)=>r?r.toUpperCase():t.toLowerCase()),De=e=>{const n=In(e);return n.charAt(0).toUpperCase()+n.slice(1)},st=(...e)=>e.filter((n,t,r)=>!!n&&n.trim()!==""&&r.indexOf(n)===t).join(" ").trim(),Mn=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ln={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=_.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:a,...l},i)=>_.createElement("svg",{ref:i,...Ln,width:n,height:n,stroke:e,strokeWidth:r?Number(t)*24/Number(n):t,className:st("lucide",o),...!s&&!Mn(l)&&{"aria-hidden":"true"},...l},[...a.map(([c,u])=>_.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=(e,n)=>{const t=_.forwardRef(({className:r,...o},s)=>_.createElement(Pn,{ref:s,iconNode:n,className:st(`lucide-${On(De(e))}`,`lucide-${e}`,r),...o}));return t.displayName=De(e),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dn=at("chevron-down",Bn);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$n=at("send",zn),Un=({node:e,readonly:n,defaultButtonText:t,defaultInputText:r,onSend:o})=>{const[s,a]=_.useState(r||""),l=p=>{o?.({variableName:e.properties?.variableName||"",buttonText:p})},i=p=>{a(p.target.value)},c=p=>{p.key==="Enter"&&u()},u=()=>{o?.({variableName:e.properties?.variableName||"",inputText:s})};return M.jsxs("span",{className:"custom-variable-container inline-flex items-center gap-2 flex-wrap",children:[e.properties?.buttonTexts?.map((p,g)=>M.jsx(ye,{disabled:n,variant:"outline",type:"button",size:"sm",onClick:()=>l(p),className:`cursor-pointer h-6 text-sm hover:bg-gray-200 ${t===p?"bg-black text-white":""}`,children:p},g)),e.properties?.placeholder&&M.jsxs("span",{className:"text-sm flex rounded-md border",children:[M.jsx(Cn,{type:"text",disabled:n,placeholder:e.properties?.placeholder,value:s,onChange:i,onKeyPress:c,className:"custom-variable-input w-40 h-6 text-sm border-0 shadow-none outline-none ring-0",style:{border:"none",outline:"none",boxShadow:"none"}}),M.jsx(ye,{type:"button",variant:"ghost",size:"icon",onClick:u,disabled:n,className:"h-6 w-6 mr-1 hover:bg-gray-200",children:M.jsx($n,{className:"h-4 w-4"})})]})]})},ze="[A-Za-z$_][0-9A-Za-z$_]*",Fn=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],Gn=["true","false","null","undefined","NaN","Infinity"],it=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],ct=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],lt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],jn=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],Hn=[].concat(lt,it,ct);function $e(e){const n=e.regex,t=(b,{after:U})=>{const d="</"+b[0].slice(1);return b.input.indexOf(d,U)!==-1},r=ze,o={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(b,U)=>{const d=b[0].length+b.index,T=b.input[d];if(T==="<"||T===","){U.ignoreMatch();return}T===">"&&(t(b,{after:d})||U.ignoreMatch());let L;const I=b.input.substring(d);if(L=I.match(/^\s*=/)){U.ignoreMatch();return}if((L=I.match(/^\s+extends\s+/))&&L.index===0){U.ignoreMatch();return}}},l={$pattern:ze,keyword:Fn,literal:Gn,built_in:Hn,"variable.language":jn},i="[0-9](_?[0-9])*",c=`\\.(${i})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${i})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},h={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},C={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},S=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,y,h,k,{match:/\$\d+/},p];g.contains=S.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(S)});const R=[].concat(C,g.contains),w=R.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(R)}]),N={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:w},P={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,n.concat(r,"(",n.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},m={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...it,...ct]}},x={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[N],illegal:/%/},$={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function W(b){return n.concat("(?!",b.join("|"),")")}const X={match:n.concat(/\b/,W([...lt,"super","import"].map(b=>`${b}\\s*\\(`)),r,n.lookahead(/\s*\(/)),className:"title.function",relevance:0},Y={begin:n.concat(/\./,n.lookahead(n.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Z={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},N]},j="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",K={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(j)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[N]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:m},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),x,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,y,h,k,C,{match:/\$\d+/},p,m,{scope:"attr",match:r+n.lookahead(":"),relevance:0},K,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[C,e.REGEXP_MODE,{className:"function",begin:j,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o.begin,end:o.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[N,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},Y,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[N]},X,$,P,Z,{match:/\$[(.]/}]}}const _e="[A-Za-z$_][0-9A-Za-z$_]*",dt=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends","using"],ut=["true","false","null","undefined","NaN","Infinity"],mt=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],pt=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],gt=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],bt=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],ft=[].concat(gt,mt,pt);function Wn(e){const n=e.regex,t=(b,{after:U})=>{const d="</"+b[0].slice(1);return b.input.indexOf(d,U)!==-1},r=_e,o={begin:"<>",end:"</>"},s=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(b,U)=>{const d=b[0].length+b.index,T=b.input[d];if(T==="<"||T===","){U.ignoreMatch();return}T===">"&&(t(b,{after:d})||U.ignoreMatch());let L;const I=b.input.substring(d);if(L=I.match(/^\s*=/)){U.ignoreMatch();return}if((L=I.match(/^\s+extends\s+/))&&L.index===0){U.ignoreMatch();return}}},l={$pattern:_e,keyword:dt,literal:ut,built_in:ft,"variable.language":bt},i="[0-9](_?[0-9])*",c=`\\.(${i})`,u="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",p={className:"number",variants:[{begin:`(\\b(${u})((${c})|\\.)?|(${c}))[eE][+-]?(${i})\\b`},{begin:`\\b(${u})\\b((${c})\\b|\\.)?|(${c})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},g={className:"subst",begin:"\\$\\{",end:"\\}",keywords:l,contains:[]},f={begin:".?html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"xml"}},y={begin:".?css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"css"}},h={begin:".?gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,g],subLanguage:"graphql"}},k={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,g]},C={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:r+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},S=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,y,h,k,{match:/\$\d+/},p];g.contains=S.concat({begin:/\{/,end:/\}/,keywords:l,contains:["self"].concat(S)});const R=[].concat(C,g.contains),w=R.concat([{begin:/(\s*)\(/,end:/\)/,keywords:l,contains:["self"].concat(R)}]),N={className:"params",begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:w},P={variants:[{match:[/class/,/\s+/,r,/\s+/,/extends/,/\s+/,n.concat(r,"(",n.concat(/\./,r),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,r],scope:{1:"keyword",3:"title.class"}}]},m={relevance:0,match:n.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...mt,...pt]}},x={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},B={variants:[{match:[/function/,/\s+/,r,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[N],illegal:/%/},$={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function W(b){return n.concat("(?!",b.join("|"),")")}const X={match:n.concat(/\b/,W([...gt,"super","import"].map(b=>`${b}\\s*\\(`)),r,n.lookahead(/\s*\(/)),className:"title.function",relevance:0},Y={begin:n.concat(/\./,n.lookahead(n.concat(r,/(?![0-9A-Za-z$_(])/))),end:r,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},Z={match:[/get|set/,/\s+/,r,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},N]},j="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",K={match:[/const|var|let/,/\s+/,r,/\s*/,/=\s*/,/(async\s*)?/,n.lookahead(j)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[N]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:l,exports:{PARAMS_CONTAINS:w,CLASS_REFERENCE:m},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),x,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,y,h,k,C,{match:/\$\d+/},p,m,{scope:"attr",match:r+n.lookahead(":"),relevance:0},K,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[C,e.REGEXP_MODE,{className:"function",begin:j,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/(\s*)\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:w}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:o.begin,end:o.end},{match:s},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},B,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[N,e.inherit(e.TITLE_MODE,{begin:r,className:"title.function"})]},{match:/\.\.\./,relevance:0},Y,{match:"\\$"+r,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[N]},X,$,P,Z,{match:/\$[(.]/}]}}function Ue(e){const n=e.regex,t=Wn(e),r=_e,o=["any","void","number","boolean","string","object","never","symbol","bigint","unknown"],s={begin:[/namespace/,/\s+/,e.IDENT_RE],beginScope:{1:"keyword",3:"title.class"}},a={beginKeywords:"interface",end:/\{/,excludeEnd:!0,keywords:{keyword:"interface extends",built_in:o},contains:[t.exports.CLASS_REFERENCE]},l={className:"meta",relevance:10,begin:/^\s*['"]use strict['"]/},i=["type","interface","public","private","protected","implements","declare","abstract","readonly","enum","override","satisfies"],c={$pattern:_e,keyword:dt.concat(i),literal:ut,built_in:ft.concat(o),"variable.language":bt},u={className:"meta",begin:"@"+r},p=(h,k,A)=>{const C=h.contains.findIndex(S=>S.label===k);if(C===-1)throw new Error("can not find mode to replace");h.contains.splice(C,1,A)};Object.assign(t.keywords,c),t.exports.PARAMS_CONTAINS.push(u);const g=t.contains.find(h=>h.scope==="attr"),f=Object.assign({},g,{match:n.concat(r,n.lookahead(/\s*\?:/))});t.exports.PARAMS_CONTAINS.push([t.exports.CLASS_REFERENCE,g,f]),t.contains=t.contains.concat([u,s,a,f]),p(t,"shebang",e.SHEBANG()),p(t,"use_strict",l);const y=t.contains.find(h=>h.label==="func.def");return y.relevance=0,Object.assign(t,{name:"TypeScript",aliases:["ts","tsx","mts","cts"]}),t}function Fe(e){const n=e.regex,t=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),r=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],l={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:r,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},i={className:"meta",begin:/^(>>>|\.\.\.) /},c={className:"subst",begin:/\{/,end:/\}/,keywords:l,illegal:/#/},u={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,i,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,i,u,c]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,u,c]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,u,c]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",f=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,y=`\\b|${r.join("|")}`,h={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${f}))[eE][+-]?(${g})[jJ]?(?=${y})`},{begin:`(${f})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${g})[jJ](?=${y})`}]},k={className:"comment",begin:n.lookahead(/# type:/),end:/$/,keywords:l,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},A={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:l,contains:["self",i,h,p,e.HASH_COMMENT_MODE]}]};return c.contains=[p,h,i],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:l,illegal:/(<\/|\?)|=>/,contains:[i,h,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},p,k,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,t],scope:{1:"keyword",3:"title.function"},contains:[A]},{variants:[{match:[/\bclass/,/\s+/,t,/\s*/,/\(\s*/,t,/\s*\)/]},{match:[/\bclass/,/\s+/,t]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[h,A,p]}]}}var oe="[0-9](_*[0-9])*",be=`\\.(${oe})`,fe="[0-9a-fA-F](_*[0-9a-fA-F])*",Ge={className:"number",variants:[{begin:`(\\b(${oe})((${be})|\\.)?|(${be}))[eE][+-]?(${oe})[fFdD]?\\b`},{begin:`\\b(${oe})((${be})[fFdD]?\\b|\\.([fFdD]\\b)?)`},{begin:`(${be})[fFdD]?\\b`},{begin:`\\b(${oe})[fFdD]\\b`},{begin:`\\b0[xX]((${fe})\\.?|(${fe})?\\.(${fe}))[pP][+-]?(${oe})[fFdD]?\\b`},{begin:"\\b(0|[1-9](_*[0-9])*)[lL]?\\b"},{begin:`\\b0[xX](${fe})[lL]?\\b`},{begin:"\\b0(_*[0-7])*[lL]?\\b"},{begin:"\\b0[bB][01](_*[01])*[lL]?\\b"}],relevance:0};function ht(e,n,t){return t===-1?"":e.replace(n,r=>ht(e,n,t-1))}function Kn(e){const n=e.regex,t="[À-ʸa-zA-Z_$][À-ʸa-zA-Z_$0-9]*",r=t+ht("(?:<"+t+"~~~(?:\\s*,\\s*"+t+"~~~)*>)?",/~~~/g,2),i={keyword:["synchronized","abstract","private","var","static","if","const ","for","while","strictfp","finally","protected","import","native","final","void","enum","else","break","transient","catch","instanceof","volatile","case","assert","package","default","public","try","switch","continue","throws","protected","public","private","module","requires","exports","do","sealed","yield","permits","goto","when"],literal:["false","true","null"],type:["char","boolean","long","float","int","byte","short","double"],built_in:["super","this"]},c={className:"meta",begin:"@"+t,contains:[{begin:/\(/,end:/\)/,contains:["self"]}]},u={className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[e.C_BLOCK_COMMENT_MODE],endsParent:!0};return{name:"Java",aliases:["jsp"],keywords:i,illegal:/<\/|#/,contains:[e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{begin:/\w+@/,relevance:0},{className:"doctag",begin:"@[A-Za-z]+"}]}),{begin:/import java\.[a-z]+\./,keywords:"import",relevance:2},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{begin:/"""/,end:/"""/,className:"string",contains:[e.BACKSLASH_ESCAPE]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{match:[/\b(?:class|interface|enum|extends|implements|new)/,/\s+/,t],className:{1:"keyword",3:"title.class"}},{match:/non-sealed/,scope:"keyword"},{begin:[n.concat(/(?!else)/,t),/\s+/,t,/\s+/,/=(?!=)/],className:{1:"type",3:"variable",5:"operator"}},{begin:[/record/,/\s+/,t],className:{1:"keyword",3:"title.class"},contains:[u,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},{beginKeywords:"new throw return else",relevance:0},{begin:["(?:"+r+"\\s+)",e.UNDERSCORE_IDENT_RE,/\s*(?=\()/],className:{2:"title.function"},keywords:i,contains:[{className:"params",begin:/\(/,end:/\)/,keywords:i,relevance:0,contains:[c,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,Ge,e.C_BLOCK_COMMENT_MODE]},e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE]},Ge,c]}}function Vn(e){const n=e.regex,t=n.concat(/[\p{L}_]/u,n.optional(/[\p{L}0-9_.-]*:/u),/[\p{L}0-9_.-]*/u),r=/[\p{L}0-9._:-]+/u,o={className:"symbol",begin:/&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;/},s={begin:/\s/,contains:[{className:"keyword",begin:/#?[a-z_][a-z1-9_-]+/,illegal:/\n/}]},a=e.inherit(s,{begin:/\(/,end:/\)/}),l=e.inherit(e.APOS_STRING_MODE,{className:"string"}),i=e.inherit(e.QUOTE_STRING_MODE,{className:"string"}),c={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:r,relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[o]},{begin:/'/,end:/'/,contains:[o]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,unicodeRegex:!0,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,relevance:10,contains:[s,i,l,a,{begin:/\[/,end:/\]/,contains:[{className:"meta",begin:/<![a-z]/,end:/>/,contains:[s,a,i,l]}]}]},e.COMMENT(/<!--/,/-->/,{relevance:10}),{begin:/<!\[CDATA\[/,end:/\]\]>/,relevance:10},o,{className:"meta",end:/\?>/,variants:[{begin:/<\?xml/,relevance:10,contains:[i]},{begin:/<\?[a-z][a-z0-9]+/}]},{className:"tag",begin:/<style(?=\s|>)/,end:/>/,keywords:{name:"style"},contains:[c],starts:{end:/<\/style>/,returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:/<script(?=\s|>)/,end:/>/,keywords:{name:"script"},contains:[c],starts:{end:/<\/script>/,returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:/<>|<\/>/},{className:"tag",begin:n.concat(/</,n.lookahead(n.concat(t,n.either(/\/>/,/>/,/\s/)))),end:/\/?>/,contains:[{className:"name",begin:t,relevance:0,starts:c}]},{className:"tag",begin:n.concat(/<\//,n.lookahead(n.concat(t,/>/))),contains:[{className:"name",begin:t,relevance:0},{begin:/>/,relevance:0,endsParent:!0}]}]}}const Zn=e=>({IMPORTANT:{scope:"meta",begin:"!important"},BLOCK_COMMENT:e.C_BLOCK_COMMENT_MODE,HEXCOLOR:{scope:"number",begin:/#(([0-9a-fA-F]{3,4})|(([0-9a-fA-F]{2}){3,4}))\b/},FUNCTION_DISPATCH:{className:"built_in",begin:/[\w-]+(?=\()/},ATTRIBUTE_SELECTOR_MODE:{scope:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},CSS_NUMBER_MODE:{scope:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},CSS_VARIABLE:{className:"attr",begin:/--[A-Za-z_][A-Za-z0-9_-]*/}}),Yn=["a","abbr","address","article","aside","audio","b","blockquote","body","button","canvas","caption","cite","code","dd","del","details","dfn","div","dl","dt","em","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","html","i","iframe","img","input","ins","kbd","label","legend","li","main","mark","menu","nav","object","ol","optgroup","option","p","picture","q","quote","samp","section","select","source","span","strong","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","ul","var","video"],qn=["defs","g","marker","mask","pattern","svg","switch","symbol","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feGaussianBlur","feImage","feMerge","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","linearGradient","radialGradient","stop","circle","ellipse","image","line","path","polygon","polyline","rect","text","use","textPath","tspan","foreignObject","clipPath"],Jn=[...Yn,...qn],Xn=["any-hover","any-pointer","aspect-ratio","color","color-gamut","color-index","device-aspect-ratio","device-height","device-width","display-mode","forced-colors","grid","height","hover","inverted-colors","monochrome","orientation","overflow-block","overflow-inline","pointer","prefers-color-scheme","prefers-contrast","prefers-reduced-motion","prefers-reduced-transparency","resolution","scan","scripting","update","width","min-width","max-width","min-height","max-height"].sort().reverse(),Qn=["active","any-link","blank","checked","current","default","defined","dir","disabled","drop","empty","enabled","first","first-child","first-of-type","fullscreen","future","focus","focus-visible","focus-within","has","host","host-context","hover","indeterminate","in-range","invalid","is","lang","last-child","last-of-type","left","link","local-link","not","nth-child","nth-col","nth-last-child","nth-last-col","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","past","placeholder-shown","read-only","read-write","required","right","root","scope","target","target-within","user-invalid","valid","visited","where"].sort().reverse(),er=["after","backdrop","before","cue","cue-region","first-letter","first-line","grammar-error","marker","part","placeholder","selection","slotted","spelling-error"].sort().reverse(),tr=["accent-color","align-content","align-items","align-self","alignment-baseline","all","anchor-name","animation","animation-composition","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-range","animation-range-end","animation-range-start","animation-timeline","animation-timing-function","appearance","aspect-ratio","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","block-size","border","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-end-end-radius","border-end-start-radius","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-align","box-decoration-break","box-direction","box-flex","box-flex-group","box-lines","box-ordinal-group","box-orient","box-pack","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","color-scheme","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","contain-intrinsic-block-size","contain-intrinsic-height","contain-intrinsic-inline-size","contain-intrinsic-size","contain-intrinsic-width","container","container-name","container-type","content","content-visibility","counter-increment","counter-reset","counter-set","cue","cue-after","cue-before","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","enable-background","field-sizing","fill","fill-opacity","fill-rule","filter","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","flow","font","font-display","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-palette","font-size","font-size-adjust","font-smooth","font-smoothing","font-stretch","font-style","font-synthesis","font-synthesis-position","font-synthesis-small-caps","font-synthesis-style","font-synthesis-weight","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-emoji","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","forced-color-adjust","gap","glyph-orientation-horizontal","glyph-orientation-vertical","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphenate-character","hyphenate-limit-chars","hyphens","icon","image-orientation","image-rendering","image-resolution","ime-mode","initial-letter","initial-letter-align","inline-size","inset","inset-area","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","kerning","left","letter-spacing","lighting-color","line-break","line-height","line-height-step","list-style","list-style-image","list-style-position","list-style-type","margin","margin-block","margin-block-end","margin-block-start","margin-bottom","margin-inline","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","margin-trim","marker","marker-end","marker-mid","marker-start","marks","mask","mask-border","mask-border-mode","mask-border-outset","mask-border-repeat","mask-border-slice","mask-border-source","mask-border-width","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","masonry-auto-flow","math-depth","math-shift","math-style","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","nav-down","nav-index","nav-left","nav-right","nav-up","none","normal","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-clip-margin","overflow-inline","overflow-wrap","overflow-x","overflow-y","overlay","overscroll-behavior","overscroll-behavior-block","overscroll-behavior-inline","overscroll-behavior-x","overscroll-behavior-y","padding","padding-block","padding-block-end","padding-block-start","padding-bottom","padding-inline","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","paint-order","pause","pause-after","pause-before","perspective","perspective-origin","place-content","place-items","place-self","pointer-events","position","position-anchor","position-visibility","print-color-adjust","quotes","r","resize","rest","rest-after","rest-before","right","rotate","row-gap","ruby-align","ruby-position","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-stop","scroll-snap-type","scroll-timeline","scroll-timeline-axis","scroll-timeline-name","scrollbar-color","scrollbar-gutter","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","speak","speak-as","src","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","table-layout","text-align","text-align-all","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-size-adjust","text-transform","text-underline-offset","text-underline-position","text-wrap","text-wrap-mode","text-wrap-style","timeline-scope","top","touch-action","transform","transform-box","transform-origin","transform-style","transition","transition-behavior","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-modify","user-select","vector-effect","vertical-align","view-timeline","view-timeline-axis","view-timeline-inset","view-timeline-name","view-transition-name","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","white-space","white-space-collapse","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","x","y","z-index","zoom"].sort().reverse();function nr(e){const n=e.regex,t=Zn(e),r={begin:/-(webkit|moz|ms|o)-(?=[a-z])/},o="and or not only",s=/@-?\w[\w]*(-\w+)*/,a="[a-zA-Z-][a-zA-Z0-9_-]*",l=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE];return{name:"CSS",case_insensitive:!0,illegal:/[=|'\$]/,keywords:{keyframePosition:"from to"},classNameAliases:{keyframePosition:"selector-tag"},contains:[t.BLOCK_COMMENT,r,t.CSS_NUMBER_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/,relevance:0},{className:"selector-class",begin:"\\."+a,relevance:0},t.ATTRIBUTE_SELECTOR_MODE,{className:"selector-pseudo",variants:[{begin:":("+Qn.join("|")+")"},{begin:":(:)?("+er.join("|")+")"}]},t.CSS_VARIABLE,{className:"attribute",begin:"\\b("+tr.join("|")+")\\b"},{begin:/:/,end:/[;}{]/,contains:[t.BLOCK_COMMENT,t.HEXCOLOR,t.IMPORTANT,t.CSS_NUMBER_MODE,...l,{begin:/(url|data-uri)\(/,end:/\)/,relevance:0,keywords:{built_in:"url data-uri"},contains:[...l,{className:"string",begin:/[^)]/,endsWithParent:!0,excludeEnd:!0}]},t.FUNCTION_DISPATCH]},{begin:n.lookahead(/@/),end:"[{;]",relevance:0,illegal:/:/,contains:[{className:"keyword",begin:s},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:{$pattern:/[a-z-]+/,keyword:o,attribute:Xn.join(" ")},contains:[{begin:/[a-z-]+(?=:)/,className:"attribute"},...l,t.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"\\b("+Jn.join("|")+")\\b"}]}}function rr(e){const n={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},t={match:/[{}[\],:]/,className:"punctuation",relevance:0},r=["true","false","null"],o={scope:"literal",beginKeywords:r.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:r},contains:[n,t,e.QUOTE_STRING_MODE,o,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function je(e){const n=e.regex,t={},r={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[t]}]};Object.assign(t,{className:"variable",variants:[{begin:n.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},r]});const o={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},l={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,t,o]};o.contains.push(l);const i={match:/\\"/},c={className:"string",begin:/'/,end:/'/},u={match:/\\'/},p={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,t]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],f=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),y={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},h=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],k=["true","false"],A={match:/(\/[a-z._-]+)+/},C=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],S=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],R=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],w=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:h,literal:k,built_in:[...C,...S,"set","shopt",...R,...w]},contains:[f,e.SHEBANG(),y,p,s,a,A,l,i,c,u,t]}}function or(e){const n=e.regex,t=e.COMMENT("--","$"),r={scope:"string",variants:[{begin:/'/,end:/'/,contains:[{match:/''/}]}]},o={begin:/"/,end:/"/,contains:[{match:/""/}]},s=["true","false","unknown"],a=["double precision","large object","with timezone","without timezone"],l=["bigint","binary","blob","boolean","char","character","clob","date","dec","decfloat","decimal","float","int","integer","interval","nchar","nclob","national","numeric","real","row","smallint","time","timestamp","varchar","varying","varbinary"],i=["add","asc","collation","desc","final","first","last","view"],c=["abs","acos","all","allocate","alter","and","any","are","array","array_agg","array_max_cardinality","as","asensitive","asin","asymmetric","at","atan","atomic","authorization","avg","begin","begin_frame","begin_partition","between","bigint","binary","blob","boolean","both","by","call","called","cardinality","cascaded","case","cast","ceil","ceiling","char","char_length","character","character_length","check","classifier","clob","close","coalesce","collate","collect","column","commit","condition","connect","constraint","contains","convert","copy","corr","corresponding","cos","cosh","count","covar_pop","covar_samp","create","cross","cube","cume_dist","current","current_catalog","current_date","current_default_transform_group","current_path","current_role","current_row","current_schema","current_time","current_timestamp","current_path","current_role","current_transform_group_for_type","current_user","cursor","cycle","date","day","deallocate","dec","decimal","decfloat","declare","default","define","delete","dense_rank","deref","describe","deterministic","disconnect","distinct","double","drop","dynamic","each","element","else","empty","end","end_frame","end_partition","end-exec","equals","escape","every","except","exec","execute","exists","exp","external","extract","false","fetch","filter","first_value","float","floor","for","foreign","frame_row","free","from","full","function","fusion","get","global","grant","group","grouping","groups","having","hold","hour","identity","in","indicator","initial","inner","inout","insensitive","insert","int","integer","intersect","intersection","interval","into","is","join","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","language","large","last_value","lateral","lead","leading","left","like","like_regex","listagg","ln","local","localtime","localtimestamp","log","log10","lower","match","match_number","match_recognize","matches","max","member","merge","method","min","minute","mod","modifies","module","month","multiset","national","natural","nchar","nclob","new","no","none","normalize","not","nth_value","ntile","null","nullif","numeric","octet_length","occurrences_regex","of","offset","old","omit","on","one","only","open","or","order","out","outer","over","overlaps","overlay","parameter","partition","pattern","per","percent","percent_rank","percentile_cont","percentile_disc","period","portion","position","position_regex","power","precedes","precision","prepare","primary","procedure","ptf","range","rank","reads","real","recursive","ref","references","referencing","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","release","result","return","returns","revoke","right","rollback","rollup","row","row_number","rows","running","savepoint","scope","scroll","search","second","seek","select","sensitive","session_user","set","show","similar","sin","sinh","skip","smallint","some","specific","specifictype","sql","sqlexception","sqlstate","sqlwarning","sqrt","start","static","stddev_pop","stddev_samp","submultiset","subset","substring","substring_regex","succeeds","sum","symmetric","system","system_time","system_user","table","tablesample","tan","tanh","then","time","timestamp","timezone_hour","timezone_minute","to","trailing","translate","translate_regex","translation","treat","trigger","trim","trim_array","true","truncate","uescape","union","unique","unknown","unnest","update","upper","user","using","value","values","value_of","var_pop","var_samp","varbinary","varchar","varying","versioning","when","whenever","where","width_bucket","window","with","within","without","year"],u=["abs","acos","array_agg","asin","atan","avg","cast","ceil","ceiling","coalesce","corr","cos","cosh","count","covar_pop","covar_samp","cume_dist","dense_rank","deref","element","exp","extract","first_value","floor","json_array","json_arrayagg","json_exists","json_object","json_objectagg","json_query","json_table","json_table_primitive","json_value","lag","last_value","lead","listagg","ln","log","log10","lower","max","min","mod","nth_value","ntile","nullif","percent_rank","percentile_cont","percentile_disc","position","position_regex","power","rank","regr_avgx","regr_avgy","regr_count","regr_intercept","regr_r2","regr_slope","regr_sxx","regr_sxy","regr_syy","row_number","sin","sinh","sqrt","stddev_pop","stddev_samp","substring","substring_regex","sum","tan","tanh","translate","translate_regex","treat","trim","trim_array","unnest","upper","value_of","var_pop","var_samp","width_bucket"],p=["current_catalog","current_date","current_default_transform_group","current_path","current_role","current_schema","current_transform_group_for_type","current_user","session_user","system_time","system_user","current_time","localtime","current_timestamp","localtimestamp"],g=["create table","insert into","primary key","foreign key","not null","alter table","add constraint","grouping sets","on overflow","character set","respect nulls","ignore nulls","nulls first","nulls last","depth first","breadth first"],f=u,y=[...c,...i].filter(w=>!u.includes(w)),h={scope:"variable",match:/@[a-z0-9][a-z0-9_]*/},k={scope:"operator",match:/[-+*/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?/,relevance:0},A={match:n.concat(/\b/,n.either(...f),/\s*\(/),relevance:0,keywords:{built_in:f}};function C(w){return n.concat(/\b/,n.either(...w.map(N=>N.replace(/\s+/,"\\s+"))),/\b/)}const S={scope:"keyword",match:C(g),relevance:0};function R(w,{exceptions:N,when:P}={}){const m=P;return N=N||[],w.map(x=>x.match(/\|\d+$/)||N.includes(x)?x:m(x)?`${x}|0`:x)}return{name:"SQL",case_insensitive:!0,illegal:/[{}]|<\//,keywords:{$pattern:/\b[\w\.]+/,keyword:R(y,{when:w=>w.length<3}),literal:s,type:l,built_in:p},contains:[{scope:"type",match:C(a)},S,A,h,r,o,e.C_NUMBER_MODE,e.C_BLOCK_COMMENT_MODE,t,k]}}function He(e){const n=e.regex,t={begin:/<\/?[A-Za-z_]/,end:">",subLanguage:"xml",relevance:0},r={begin:"^[-\\*]{3,}",end:"$"},o={className:"code",variants:[{begin:"(`{3,})[^`](.|\\n)*?\\1`*[ ]*"},{begin:"(~{3,})[^~](.|\\n)*?\\1~*[ ]*"},{begin:"```",end:"```+[ ]*$"},{begin:"~~~",end:"~~~+[ ]*$"},{begin:"`.+?`"},{begin:"(?=^( {4}|\\t))",contains:[{begin:"^( {4}|\\t)",end:"(\\n)$"}],relevance:0}]},s={className:"bullet",begin:"^[ 	]*([*+-]|(\\d+\\.))(?=\\s+)",end:"\\s+",excludeEnd:!0},a={begin:/^\[[^\n]+\]:/,returnBegin:!0,contains:[{className:"symbol",begin:/\[/,end:/\]/,excludeBegin:!0,excludeEnd:!0},{className:"link",begin:/:\s*/,end:/$/,excludeBegin:!0}]},l=/[A-Za-z][A-Za-z0-9+.-]*/,i={variants:[{begin:/\[.+?\]\[.*?\]/,relevance:0},{begin:/\[.+?\]\(((data|javascript|mailto):|(?:http|ftp)s?:\/\/).*?\)/,relevance:2},{begin:n.concat(/\[.+?\]\(/,l,/:\/\/.*?\)/),relevance:2},{begin:/\[.+?\]\([./?&#].*?\)/,relevance:1},{begin:/\[.*?\]\(.*?\)/,relevance:0}],returnBegin:!0,contains:[{match:/\[(?=\])/},{className:"string",relevance:0,begin:"\\[",end:"\\]",excludeBegin:!0,returnEnd:!0},{className:"link",relevance:0,begin:"\\]\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0},{className:"symbol",relevance:0,begin:"\\]\\[",end:"\\]",excludeBegin:!0,excludeEnd:!0}]},c={className:"strong",contains:[],variants:[{begin:/_{2}(?!\s)/,end:/_{2}/},{begin:/\*{2}(?!\s)/,end:/\*{2}/}]},u={className:"emphasis",contains:[],variants:[{begin:/\*(?![*\s])/,end:/\*/},{begin:/_(?![_\s])/,end:/_/,relevance:0}]},p=e.inherit(c,{contains:[]}),g=e.inherit(u,{contains:[]});c.contains.push(g),u.contains.push(p);let f=[t,i];return[c,u,p,g].forEach(A=>{A.contains=A.contains.concat(f)}),f=f.concat(c,u),{name:"Markdown",aliases:["md","mkdown","mkd"],contains:[{className:"section",variants:[{begin:"^#{1,6}",end:"$",contains:f},{begin:"(?=^.+?\\n[=-]{2,}$)",contains:[{begin:"^[=-]*$"},{begin:"^",end:"\\n",contains:f}]}]},t,s,c,u,{className:"quote",begin:"^>\\s+",contains:f,end:"$"},o,r,i,a,{scope:"literal",match:/&([a-zA-Z0-9]+|#[0-9]{1,7}|#[Xx][0-9a-fA-F]{1,6});/}]}}const sr={javascript:$e,js:$e,typescript:Ue,ts:Ue,python:Fe,py:Fe,java:Kn,html:Vn,css:nr,json:rr,bash:je,sh:je,sql:or,markdown:He,md:He},ar=["javascript","typescript","python","java","html","css","json","bash","sql","markdown"],ir=({content:e="",typingSpeed:n=80,disabled:t=!1}={})=>{const[r,o]=_.useState(""),[s,a]=_.useState(!1),[l,i]=_.useState(!1),c=_.useRef([]),u=_.useRef(0),p=_.useRef(null),g=_.useRef(!0),f=_.useRef(""),y=_.useCallback(()=>{p.current&&(clearTimeout(p.current),p.current=null)},[]),h=_.useRef([{pattern:/\?\[[^\]]*\]/,type:"custom-tag"},{pattern:/```[\s\S]*?```/,type:"code-block"},{pattern:/^#{1,6}\s[^\n]*$/m,type:"header"},{pattern:/\*\*\*[^*]+\*\*\*/,type:"bold-italic"},{pattern:/\*\*[^*]+\*\*/,type:"bold"},{pattern:new RegExp("(?<!\\*)\\*[^*]+\\*(?!\\*)"),type:"italic"},{pattern:/~~[^~]+~~/,type:"strikethrough"},{pattern:/`[^`]+`/,type:"inline-code"},{pattern:/!\[[^\]]*\]\([^\)]*\)/,type:"image"},{pattern:new RegExp("(?<!\\!)\\[[^\\]]*\\]\\([^\\)]*\\)"),type:"link"},{pattern:/^(>\s*)+[^\n]*$/m,type:"blockquote"},{pattern:/^[-*]{3,}$/m,type:"hr"},{pattern:/^[*-]\s+[^\n]*$/m,type:"list-item"},{pattern:/^\d+\.\s+[^\n]*$/m,type:"ordered-list-item"}]).current,k=_.useCallback(R=>{const w=[];let N=R||"";for(;N.length>0;){let P=!1,m=null,x=1/0;for(const B of h){const $=B.pattern.exec(N);$&&$.index<x&&(x=$.index,m={match:$,pattern:B})}if(m&&x>=0){if(x>0){const B=N.substring(0,x);w.push(...Array.from(B).map($=>({content:$,isMarkdown:!1}))),N=N.substring(x)}w.push({content:m.match[0],isMarkdown:!0,type:m.pattern.type}),N=N.substring(m.match[0].length),P=!0}P||(w.push({content:N[0],isMarkdown:!1}),N=N.substring(1))}return w},[h]),A=_.useCallback(()=>{if(g.current)if(u.current<c.current.length){const R=c.current[u.current];o(w=>w+(R?.content||"")),u.current++,g.current&&(p.current=setTimeout(A,n))}else a(!1),i(!0)},[n]);_.useEffect(()=>{const R=e||"",w=f.current;if(R===w)return;if(t){y();const P=k(R);o(P.map(m=>m.content).join("")),a(!1),i(!0),f.current=R;return}if(R.length>=w.length&&R.startsWith(w)&&w){const P=k(R),m=c.current.length;c.current=P;const x=u.current>=P.length;i(x),!x&&(!s||u.current>=m)&&(a(!0),A())}else{y(),o("");const P=k(R);c.current=P,u.current=0;const m=P.length===0;i(m),!m&&R&&g.current&&(a(!0),A())}f.current=R},[e,t,y,k,A,s]),_.useEffect(()=>(g.current=!0,()=>{g.current=!1,y()}),[y]);const C=_.useCallback(()=>{y(),o(""),c.current=[],u.current=0,a(!1),i(!1),f.current=""},[y]),S=_.useCallback(()=>{y(),u.current=0,o(""),a(!0),i(!1),A()},[y,A]);return{displayContent:r,isTyping:s,isComplete:l,reset:C,start:S,getSegments:()=>c.current}},cr=e=>{const n={"\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	",'\\"':'"',"\\'":"'","\\b":"\b","\\f":"\f"},t=/\\[\\nrt"'bf]|\\u([0-9a-fA-F]{4})/g;return e.replace(t,(r,o)=>o?String.fromCharCode(parseInt(o,16)):n[r]||r)},lr=e=>{let n=cr(e);return n=n.replace(/\\\\n/g,`
`).replace(/\\\\t/g,"	"),n=n.replace(/\r\n/g,`
`),n=n.replace(/\n{3,}/g,`

`),n=n.replace(/&nbsp;|\u00A0/g," "),n||""},dr=({content:e,customRenderBar:n,onSend:t,typingSpeed:r=30,disableTyping:o=!0,defaultButtonText:s,defaultInputText:a,readonly:l=!1,onTypeFinished:i})=>{const{displayContent:c,isTyping:u,isComplete:p}=ir({content:lr(e),typingSpeed:r,disabled:o}),g={"custom-variable":y=>M.jsx(Un,{...y,readonly:l,defaultButtonText:s,defaultInputText:a,onSend:t}),"custom-button":y=>M.jsx(kn,{...y,readonly:l,defaultButtonText:s,onSend:t}),code:y=>{const{inline:h,className:k,children:A,...C}=y,S=/language-(\w+)/.exec(k||"");return!h&&S?M.jsx("code",{className:k,...C,children:A}):M.jsx("code",{className:k,...C,children:A})},table:({node:y,...h})=>M.jsx("div",{className:"content-render-table-container",children:M.jsx("table",{className:"content-render-table",...h})}),th:({node:y,...h})=>M.jsx("th",{className:"content-render-th",...h}),td:({node:y,...h})=>M.jsx("td",{className:"content-render-td",...h}),tr:({node:y,...h})=>M.jsx("tr",{className:"content-render-tr",...h}),li:({node:y,...h})=>{const k=y?.properties?.className;return typeof k=="string"&&k.includes("task-list-item")||Array.isArray(k)&&k.includes("task-list-item")?M.jsx("li",{className:"content-render-task-list-item",...h}):M.jsx("li",{...h})},input:({node:y,...h})=>h.type==="checkbox"?M.jsx("input",{type:"checkbox",className:"content-render-checkbox",disabled:!0,...h}):M.jsx("input",{...h})},f=_.useRef(!1);return _.useEffect(()=>{p&&!f.current&&(console.log("[ContentRender] Typing is complete, calling onTypeFinished"),f.current=!0,i?.())},[p,i]),_.useEffect(()=>{f.current=!1},[e]),M.jsxs("div",{className:"content-render",children:[M.jsx(vt,{remarkPlugins:[Et,Rn,It,wt],rehypePlugins:[[xt,{languages:sr,subset:ar}]],components:g,children:c}),n&&_.createElement(n,{content:e,displayContent:c,onSend:t}),u&&M.jsx("span",{className:"typing-cursor ml-1 animate-pulse",children:"|"})]})},yt=({initialContentList:e=[],customRenderBar:n,onSend:t,typingSpeed:r,disableTyping:o,onBlockComplete:s})=>M.jsx("div",{className:"markdown-flow",children:e.map((a,l)=>{const i=a.isFinished??!1,c=i||o,u=i?void 0:t,p=i?void 0:r;return M.jsx(dr,{content:a.content,defaultInputText:a.defaultInputText,defaultButtonText:a.defaultButtonText,readonly:a.readonly,disableTyping:c,customRenderBar:n,onSend:u,typingSpeed:p,onTypeFinished:()=>{console.log(`Block ${l} typing finished`),s?.(l)}},l)})}),ur=(e,n=[],t={})=>{const{behavior:r="smooth",autoScrollOnInit:o=!0,scrollDelay:s=100,scrollThreshold:a=10}=t,[l,i]=_.useState(!1),[c,u]=_.useState(!0),p=_.useRef(!0),g=_.useRef(!0),f=_.useRef({scroll:null,init:null,content:null}),y=_.useCallback(()=>{Object.values(f.current).forEach(S=>{S&&clearTimeout(S)})},[]),h=_.useCallback(()=>{const S=e.current;if(!S)return!0;const{scrollTop:R,scrollHeight:w,clientHeight:N}=S;return R+N>=w-a},[e,a]),k=_.useCallback(()=>{const S=e.current;S&&S.scrollTo({top:S.scrollHeight,behavior:r})},[e,r]),A=_.useCallback(()=>{const S=h();return u(S),i(!S),S},[h]),C=_.useCallback(()=>{k(),p.current=!0,i(!1),u(!0)},[k]);return _.useEffect(()=>{const S=e.current;if(!S)return;const R=()=>{f.current.scroll&&clearTimeout(f.current.scroll),f.current.scroll=setTimeout(()=>{A()?p.current=!0:p.current=!1},150)};return S.addEventListener("scroll",R),A(),()=>{S.removeEventListener("scroll",R),f.current.scroll&&clearTimeout(f.current.scroll)}},[e,A]),_.useEffect(()=>(o&&g.current&&(f.current.init=setTimeout(()=>{k(),u(!0),i(!1),p.current=!0,g.current=!1},s)),()=>{f.current.init&&clearTimeout(f.current.init)}),[o,k,s]),_.useEffect(()=>{if(!g.current)return f.current.content=setTimeout(()=>{p.current?(k(),u(!0),i(!1)):A()},50),()=>{f.current.content&&clearTimeout(f.current.content)}},[...n,k,A]),_.useEffect(()=>()=>{y()},[y]),{showScrollToBottom:l,scrollToBottom:C,handleUserScrollToBottom:C,isAtBottom:c,followNewContent:p.current}},mr=({initialContentList:e=[],customRenderBar:n,onSend:t,onBlockComplete:r,typingSpeed:o,disableTyping:s,height:a="100%",className:l="",...i})=>{const c=_.useRef(null),{showScrollToBottom:u,handleUserScrollToBottom:p}=ur(c,[e?.length>=1?JSON.stringify(e[e?.length-1]):null],{behavior:"smooth",autoScrollOnInit:!0,scrollDelay:100});return M.jsxs("div",{className:`scrollable-markdown-container ${l}`,style:{height:a,position:"relative"},...i,children:[M.jsx("div",{ref:c,style:{height:"100%",overflow:"auto"},children:M.jsx(yt,{initialContentList:e,customRenderBar:n,onSend:t,typingSpeed:o,disableTyping:!0,onBlockComplete:r})}),u&&M.jsx(ye,{className:"h-6 w-6 border hover:bg-gray-200 scroll-to-bottom-btn",type:"button",variant:"ghost",size:"icon",onClick:p,"aria-label":"滚动到底部",children:M.jsx(Dn,{})})]})},pr=({defaultContent:e,defaultVariables:n={},defaultDocumentPrompt:t="",styles:r={},sseUrl:o="https://play.dev.pillowai.cn/api/v1/playground/generate"})=>{const{data:s,loading:a}=Ct(e),{block_count:l=0,interaction_blocks:i=[]}=s||{},[c,u]=_.useState(0),[p,g]=_.useState([]),[f,y]=_.useState({content:e,block_index:0,context:[{role:"assistant",content:""}],variables:n,user_input:null,document_prompt:t,interaction_prompt:null,interaction_error_prompt:null,model:null}),h=()=>JSON.stringify(f),k=m=>{const x=c+1;return!(m&&i.includes(c)||x>=l)},A=m=>{const x=[...f.context];for(;x.length<=c;)x.push({role:"assistant",content:""});return x[c]={...x[c],content:m},x.length<=c+1&&x.push({role:"assistant",content:""}),x},C=m=>{const x=[...p];for(;x.length<=c;)x.push({content:""});return x[c]={...x[c],content:m},x},S=m=>{const x=[...p],B=x.length-1;return B>=0&&(x[B]={...x[B],readonly:!0,defaultButtonText:m.buttonText,defaultInputText:m.inputText}),x},R=m=>{if(!k(m))return;const x=A(m),B=c+1;y($=>({...$,user_input:null,block_index:B,context:x})),u(B)},{data:w,connect:N}=Rt(o,{method:"POST",body:h(),autoConnect:!!s&&!a,onFinish:R});_.useEffect(()=>{s&&!a&&N()},[s,a,N]),_.useEffect(()=>{if(w)try{const m=C(w);g(m)}catch(m){console.error("Error processing SSE message:",m)}},[w]);const P=m=>{const x=m.inputText||m.buttonText||"",B=[...f.context];B[c]&&(B[c]={...B[c],content:x,role:"user"}),y(W=>({...W,context:B,user_input:x??null,variables:{...W.variables,[m.variableName||""]:x}}));const $=S(m);g($)};return M.jsx("div",{style:r,children:M.jsx(mr,{initialContentList:p,onSend:P})})};exports.MarkdownFlow=yt;exports.Playground=pr;
//# sourceMappingURL=index.cjs.js.map
