ci:
  autofix_prs: true
  autoupdate_schedule: disabled   # Strict version control; manual `pre-commit autoupdate` PR when needed

repos:
  # ESLint (使用本地配置)
  - repo: local
    hooks:
      - id: eslint
        name: eslint (ts/tsx/js/jsx)
        entry: npx eslint
        language: system
        files: \.(ts|tsx|js|jsx)$
        args:
          - "--fix"
          - "--max-warnings=20"  # 与本地package.json保持一致

  # Prettier (使用本地配置)
  - repo: local
    hooks:
      - id: prettier
        name: prettier (code + config)
        entry: npx prettier
        language: system
        files: \.(ts|tsx|js|jsx|json|css|md)$
        args:
          - "--write"

  # TypeScript类型检查
  - repo: local
    hooks:
      - id: tsc
        name: typescript type check
        entry: npx tsc
        language: system
        files: \.(ts|tsx)$
        args:
          - "--noEmit"
        pass_filenames: false