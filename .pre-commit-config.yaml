ci:
  autofix_prs: true
  autoupdate_schedule: quarterly   # Strict version control; manual `pre-commit autoupdate` PR when needed

repos:
  # ESLint (use local config)
  - repo: local
    hooks:
      - id: eslint
        name: eslint (ts/tsx/js/jsx)
        entry: npx eslint
        language: system
        files: \.(ts|tsx|js|jsx)$
        args:
          - "--fix"
          - "--max-warnings=20"  # keep consistent with local package.json

  # Prettier (use local config)
  - repo: local
    hooks:
      - id: prettier
        name: prettier (code + config)
        entry: npx prettier
        language: system
        files: \.(ts|tsx|js|jsx|json|css|md)$
        args:
          - "--write"

  # TypeScript type check
  - repo: local
    hooks:
      - id: tsc
        name: typescript type check
        entry: npx tsc
        language: system
        files: \.(ts|tsx)$
        args:
          - "--noEmit"
        pass_filenames: false